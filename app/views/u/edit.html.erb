<%= form_for @user, url: u_path(@user), method: :patch, multipart: true do |f| %>
  <%= render partial: "/shared/errors", locals: {obj: @user, name: "Account"} %>
  <h2 class="mt-3">
    Edit account
  </h2>
  <div class="form-row">
    <%= f.label :username %>
    <%= f.text_field :username, autofocus: true, required: true, class: "form-control" %>
  </div>
  <div class="form-row">
    <%= f.label :about %>
    <%= f.text_area :about, class: "form-control" %>
  </div>
  <div class="form-row ">
    <%= f.label :account_private, class: "form-control-check" do %>
      <%= f.check_box :account_private %>
      Account is private
      <small>if checked, only followers can see your ratings (and you approve all followers)</small>
    <% end %>
  </div>
  <div class="form-row-btn">
    <%= f.submit "Update", class: "btn btn-success" %>
  </div>
<% end %>
<div class="mt-8">
  <%= link_to "Change email or password", edit_user_registration_path, class: "gray-link block" %>
  <%= button_to "Delete account", registration_path("user"), data: {turbo_confirm: "Are you sure? Your account can't be restored afterward."}, method: :delete, class: "gray-link block mt-3" %>
</div>
<script type="text/javascript">
  console.log("Your API token is:")
  console.log("<%= @user.api_token %>")
</script>
