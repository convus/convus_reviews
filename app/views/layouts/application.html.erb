<!DOCTYPE html>
<html>
  <head>
    <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"/>
    <meta content="width=device-width,initial-scale=1" name="viewport"/>
    <title><%= page_title %></title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
    <%= stylesheet_link_tag "tranzito_utils-compiled", "application", "data-turbo-track": "reload" %>
    <%= javascript_include_tag "application", "data-turbo-track": "reload", defer: true %>
    <% if Rails.env.development? %>
      <link href="/favicon-dev.png" rel="icon" sizes="192x192">
      <%= hotwire_livereload_tags %>
    <% else %>
      <link href="/favicon.ico" rel="icon" sizes="192x192">
      <link rel="apple-touch-icon-precomposed apple-touch-icon" href="/apple-touch-icon.png" />
    <% end %>
  </head>
  <body>
    <% if render_navbar? %>
      <nav class="main-navbar">
        <div class="navbar-container container">
          <%= link_to user_root_url, class: "root-link" do %>
            <%= image_tag("icon.png", alt: "Convus Logo") %>
            <span class="">Convus</span>
          <% end %>
          <ul class="user-links">
            <% if current_user.present? %>
              <li><%= active_link current_user.username, reviews_path(user: current_user.username), class: "nav-link" %></li>
              <span class="ml-1 mr-1 text-gray-400">|</span>
              <li><%= button_to "logout", destroy_user_session_path, method: "delete", data: {turbo: false}, class: "nav-link"  %></li>
            <% else %>
              <li><%= link_to "login", new_user_registration_path, class: "nav-link" %></li>
            <% end %>
          </ul>
        </div>
      </nav>
    <% end %>

    <div class="<%= content_for(:main_wrapper_class) || 'full-width-main-container' %>">
      <%= render "shared/flash_messages" %>
      <%= yield %>
    </div>
  </body>
</html>
